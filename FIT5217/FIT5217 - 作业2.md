## 表1：FIT5217 - 作业2说明

## 引言

漫长的一天结束后回到家，打开冰箱，里面有一些食材，但不知道如何用它们烹饪。你拿起手机打给妈妈，但她没有接听。她已经受够你了！于是你打开手机，搜索烹饪应用，但惊讶地发现应用商店里没有合适的应用。那么，为什么不自己开发一个呢？你可以训练一个深度神经网络模型来完成这个任务。这本质上是一个序列到序列的建模任务，将食材映射为食谱。

## 可选文献综述

任何真正的研究项目都离不开适当的文献综述。以下是一些可选阅读材料：

论文：Kiddon, C., Zettlemoyer, L., Choi, Y. (2016) 使用神经清单模型进行全局连贯文本生成。发表于自然语言处理经验方法会议。

论文：See, A., Liu, P., Manning, C. (2017) 直击要点：使用指针生成器网络进行摘要。发表于计算语言学协会年会。

论文：Lu, X., West, P., Zellers, R., Le Bras, R., Bhagavatula, C., Choi, Y. (2021) 神经逻辑解码：使用谓词逻辑约束的(非)监督神经文本生成。发表于北美计算语言学协会会议。

论文：Tu, Z., Zhengdong, L., Yang L. Xiaohua, L., Hang, Li. (2016) 神经机器翻译的覆盖建模。发表于计算语言学协会年会。

论文：Welleck, S., Kulikov, I., Roller, S., Dinan, E., Cho, K., Weston, J. (2020) 使用非似然训练的神经文本退化。发表于国际学习表征会议。

论文：Vinyals, O. Bengio, S., Kudlur, M. (2016) 顺序很重要：集合的序列到序列。发表于国际学习表征会议。

## 神经厨师助手（总分80+20分）

任务是训练一个用于食谱生成的深度神经网络模型。我们将使用来自Kiddon等人论文的数据集（希望你已经阅读过）。从Moodle下载数据集。你应该使用PyTorch完成这部分（如果想使用其他深度学习库需要获得CE的批准）。测试数据不能用于训练，也不应在任何级别进行预处理或调整。对于每个样本，只使用食材和食谱，忽略标题。表2展示了数据中的一个示例。

## 表2：数据示例

标题：苹果酥

食材：["8杯切片苹果", "8汤匙面粉", "3杯糖", "2茶匙肉桂"]

食谱：["预热烤箱至350度。", "将食材混合后放入9×13英寸的涂油烤盘中。"]

标题：墨西哥千层面

食材：["1.5磅牛肉，煎熟", "1罐Ro-Tel", "1罐番茄酱", "1茶匙糖", "1茶匙辣椒粉", "1/4茶匙胡椒粉", "1茶匙罗勒", "1盒千层面", "3盎司奶油奶酪", "8盎司酸奶油", "切达奶酪"]

食谱：["将前7种食材煮20分钟。", "煮千层面。", "将奶油奶酪和酸奶油混合。", "分层放置千层面、肉酱和奶酪酱。", "应做2层，最后撒上切达奶酪。"]

## 1 配置

我们希望您构建6个编码器-解码器模型。您不应选择RNN系列以外的任何骨干网络（即不能使用CNN、Transformer或GNN）。

### 1.1 两个基线模型

从第7周的教程代码开始，修改它以适应此任务，并构建您的两个基线模型。

- 基线1：不带注意力的序列到序列模型 [4分]
    
- 基线2：带注意力的序列到序列模型 [5分]
    

### 1.2 两个温和扩展

选择效果更好的基线模型，通过选择以下任何一项（或它们的组合）构建另外2个模型（每个[8分]）：

- 进行超出简单小写/停用词去除/词形还原/词干提取的数据预处理（即去除食材列表中的计量单位、填充食谱句子、词汇修剪等）。
    
- 更改基本模型配置（即隐藏状态或嵌入的维度、选择RNN家族的不同成员）或训练配置（即教师强制率、批量大小、最大长度等）。
    
- 使用预训练嵌入（即word2vec、GLoVe）
    
- 分离或共享编码器和解码器的嵌入矩阵
    
- 在编码器或解码器中堆叠更多层
    
- 分别预训练编码器和解码器（即使用自动编码等），并将预训练的编码器和解码器作为训练的起点，而不是从权重的随机初始化开始。
    

### 1.3 两个高级扩展

现在通过选择以下任何一项（或它们的组合）构建另外2个模型（每个[10分]）：

- 实现复制机制（即阅读可选综述中的第2篇参考文献）
    
- 实现覆盖机制（即查看可选综述中的第1、3、4和5篇参考文献）
    
- 实现不同的输入编码技术，将食材作为集合而非列表处理（即查看可选综述中的第6篇参考文献）
    

这个想法是，只有那些付出额外努力的人才能获得这额外的20分。如果您只有部分实现但没有结果，我们不会为努力打分（很遗憾）。

## 2 性能

虽然不要求达到特定的性能阈值，但期望您在模型扩展中做出明智且有充分理由的设计决策。您的目标应该是探索相对于基线模型有潜力提高性能的修改。我们期望看到在测试集上，基线模型与您实现的最佳扩展模型之间至少有10%的性能提升（例如，将BLEU从10提高到11）。理想情况下，对于您的设计选择，您应该只查看训练集和开发集。[5分]

## 3 Jupyter笔记本

不要从提交的笔记本中删除输出日志。保留所有训练和测试输出。您提交的Jupyter笔记本应包含填充演示文稿不同部分所需的所有代码、日志和输出。确保您的笔记本有清晰的Markdown，易于导航和定位笔记本的哪部分做什么等。[5分]

所有模型应位于一个笔记本文件code_012345678.ipynb中。但如果您最终为每个模型使用一个笔记本，请提交多个笔记本，但将它们命名为code_012345678_base1.ipynb、code_012345678_base2.ipynb、code_012345678_mild1.ipynb、code_012345678_mild2.ipynb、code_012345678_spicy1.ipynb、code_012345678_spicy2.ipynb。然而，这些笔记本的PDF打印仍应合并为一个PDF文件code_012345678.pdf，并且应清楚PDF的哪些部分对应于哪个模型实现。

## 4 XLSX

所有4-6个模型的生成输出应报告在您为此作业提交的generated_012345678.xlsx的相应列中。为此，我们为您提供了模板XLSX文件，其中每行有7列：食材列表，然后是6列（即基线1、2等），每列记录来自相应模型的生成食谱。如果您没有实现任何模型，只需将相应的单元格留空。不要更改行的顺序，也不要删除或添加任何行。

## 5 演示文稿 - PPTX和录制

检查PPTX模板以了解在PPTX中每个标题下应包含的内容。演示文稿录制应遵循PPTX首页上的说明。您需要在录制中清楚地涵盖每个部分（最多15分钟）。

## 摘要[5分]

## 数据统计[5分]

## 模型和训练配置[10分]

## 训练分析[10分]

## 定量比较[10分]

## 定性比较[5分]

## 6 评估指标

您可以使用以下代码测量评估指标（BLEU-4、METEOR、BertScore）。显然，这只是一个示例，当您报告这些数字时，您需要在整个测试集上测量它们并报告平均分数。

`pip install nltk bert-score import nltk from nltk.translate.bleu_score import sentence_bleu, SmoothingFunction from nltk.translate.meteor_score import meteor_score from bert_score import score  # 下载所需的NLTK资源 nltk.download('punkt') # 用于word_tokenize nltk.download('wordnet') # 用于METEOR nltk.download('omw-1.4') # 也是METEOR需要的  # 示例输入文本（黄金和预测食谱） gold = """奶油黄油和糖。逐个加入蛋黄，搅拌至混合物非常轻盈且呈柠檬色。加入香草和牛奶。在另一个碗中打发蛋白至起泡。拌入奶油混合物。拌入1.5杯椰子。倒入烤好的派皮中，撒上肉豆蔻。顶部撒上剩余的磨碎椰子。在预热至350度的烤箱中烤约35分钟或直到馅料刚好凝固。温热或冷藏后食用。"""  pred = """45-50分钟椰子蛋奶派预热烤箱至350°F。在一个搅拌碗中，打发黄油和糖粉至轻盈蓬松。逐个加入蛋黄，每次加入后充分搅拌。加入香草、淡奶和盐；搅拌至顺滑。拌入磨碎椰子。在另一个碗中，打发蛋白至硬性发泡；轻轻拌入椰子混合物。将馅料倒入烤好的9英寸派皮中并抹平顶部，撒上肉豆蔻粉。烤30至35分钟或直到凝固并呈浅金黄色。完全冷却后食用。冷藏。"""  # 为BLEU进行分词 ref_tokens = nltk.word_tokenize(gold) hyp_tokens = nltk.word_tokenize(pred)  # 带平滑的BLEU-4 smoothie = SmoothingFunction().method4 bleu4 = sentence_bleu([ref_tokens],hyp_tokens,weights=(0.25,0.25,0.25,0.25),smoothing_function=smoothie)  # METEOR - 需要分词后的参考和假设列表 meteor = meteor_score([ref_tokens],hyp_tokens)  # BERTScore P, R, F1 = score([pred],[gold],lang='en',verbose=False) bertscore_f1 = F1.numpy().item() # 将张量转换为numpy然后Python标量`

## 分数

满分100分，占本单元总分的25%

## 截止日期

第8周讲座日期，晚上11:55

## 延期

在某些情况下可以批准延期。必须提交特殊考虑申请表。请参阅大学关于特殊考虑的网页。

## 迟交

对于所有在正式截止日期后提交且未经同意延期的评估项目，每迟交一天（包括周末）将对学生分数扣除5%，最多7天。7天后未经特殊考虑提交的评估项目将不予考虑。

## 原创性

这是一项个人评估。所有工作必须由您自己完成。所有提交将通过Turnitin进行。这使得我们非常容易识别抄袭行为。

## 提交

需要提交5个文件：一个Jupyter笔记本文件、Jupyter笔记本的PDF打印文件、一个XLSX文件、一个PPTX文件和一个15分钟的视频演示。文件名必须为code_012345678.ipynb、code_012345678.pdf、generated_012345678.xlsx、presentation_012345678.pptx、recording_012345678.mp4，其中"012345678"替换为您自己的学生ID。提交中每缺少一个文件将扣除5%的分数。