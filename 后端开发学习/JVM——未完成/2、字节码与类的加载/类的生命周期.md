## **生命周期概述**
加载——连接——初始化——使用——卸载

### 加载阶段
1、**类加载器**根据类的全限定名通过不同渠道以二进制流的方式获取字节码信息
 - 本地文件
 - 动态代理
 - 网络传输
 
2、加载完毕后，JVM将其保存进内存的**方法区**，生成**InstanceKlass**保存类的所有消息

↑↓  `关联在一起`

3、在堆内生成**java.lang.Class对象**，用于**获取类的消息和存储静态字段的数据**
字节码消息进入内存中
![[Pasted image 20250814193401.png]]

### 连接阶段
**验证**—— 验证内容是否满足规范

**准备**—— 为静态变量赋初值
在堆区为属性赋予初值（default值）
- 如果用final修饰，准备阶段就会直接获得对应数据

**解析**—— 将常量池中的符号引用替换为对内存的直接引用

### 初始化阶段
为静态变量赋予初值
执行字节码文件中clinit部分字节码指令

`putstatic` 为静态变量赋值指令，从操作数栈中获取值赋予变量

**类的初始化**
- 不会初始化的情况
![[Pasted image 20250820221047.png]]
![[Pasted image 20250820220210.png]]
**DACBCB**
![[Pasted image 20250820220851.png|240]]

直接访问父类的静态变量，不会触发子类的初始化
子类的初始化调用前，会先调用父类的初始化方法


