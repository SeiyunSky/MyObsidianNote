### 缓存穿透？怎么解决
 缓存穿透：查询一个不存在的数据，mysql查询不到数据也不会直接写入缓存，就会导致每次请求都查数据库
● 解决方案一：缓存空数据
● 解决方案二：布隆过滤器

### 缓存击穿
给某个key设置了过期时间，当key过期的时候，恰好有该key大量并发请求过来，导致**缓存穿透**，压垮DB。
![[Pasted image 20250727225520.png]]

### Redis持久化
 AOF/bgSave
**AOF**默认关闭，通过conf配置开启
 AOD比RDB文件大得多，因为会记录命令，只有最后一次写操作才有意义，因此执行bgrewriteof可以让AOF执行重写功能
 Redis也会在触发阈值时重写AOF文件
 ![[Pasted image 20250822175931.png]]
**bgSave**在命令行写入
 定时对整个内存做快照，不完整，数据恢复优先级低，系统占用非常高。
 
### Redis数据过期策略 
 - 惰性删除——设置过期时间后，不管，需要该key时，检查是否过期，发现过期时，删除。
 - 定期删除——Slow 10hz 25ms /Fast 频率不固定 1ms

#### 淘汰策略
 ![[Pasted image 20250822180851.png]]

#### **IO多路复用**
单线程同时监听多个Socket，可写时得到通知。
![[Pasted image 20250822194111.png|500]]


## MYSQL相关
![[Pasted image 20250822194207.png]]

## 框架篇
![[Pasted image 20250822211549.png]]
