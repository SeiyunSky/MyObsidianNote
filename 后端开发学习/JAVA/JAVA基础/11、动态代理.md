####  **定义接口（Subject）​**​
```java
// 抽象功能：打招呼
public interface Greeting {
    void sayHello(String name);
}
```
#### **实现真实对象（RealSubject）​**
```java
// 真实实现类
public class ChineseGreeting implements Greeting {
    @Override
    public void sayHello(String name) {
        System.out.println("你好, " + name + "!");
    }
}
```
#### **创建动态代理处理器**
```java
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;

//​InvocationHandler​ 是 JDK 动态代理的核心接口。
//所有通过代理对象调用的方法，最终都会交给这个类的invoke()方法处理。
public class GreetingProxy implements InvocationHandler {
    private Object target; // 被代理的真实对象

    public GreetingProxy(Object target) {
        this.target = target;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println(">> 代理：方法调用前记录日志"); // 增强功能
        Object result = method.invoke(target, args); // 调用真实对象的方法
        System.out.println(">> 代理：方法调用后清理\n"); // 增强功能
        return result;
    }
}
```
#### **生成代理对象并测试​**
```java
import java.lang.reflect.Proxy;

public class Main {
    public static void main(String[] args) {
        // 1. 创建真实对象
        Greeting realGreeting = new ChineseGreeting();

        // 2. 创建代理处理器（传入真实对象）
        GreetingProxy handler = new GreetingProxy(realGreeting);

        // 3. 动态生成代理对象
        //Proxy.newProxyInstance专门用来生产动态对象
        /*方法签名
        public static Object newProxyInstance(
            ClassLoader loader,
            Class<?>[] interfaces,
            InvocationHandler handler
        )
        */
        Greeting proxy = (Greeting) Proxy.newProxyInstance(
            realGreeting.getClass().getClassLoader(), // 类加载器
            realGreeting.getClass().getInterfaces(),  // 实现的接口
            handler                                   // 代理处理器
        );

        // 4. 通过代理对象调用方法
        proxy.sayHello("张三");
        proxy.sayHello("李四");
    }
}
```