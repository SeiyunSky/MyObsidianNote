反射允许对封装类的字段方法和构造函数的信息进行编程访问
![[Pasted image 20250819151006.png]]


**获取Class对象的三种方式**

 ```java
 1、直接获取类地址
 Class temp = Class.forName("全类名")
 
 2、类名.class
 Class temp = Student.class;
 
 3、对象.getClass
 Student s = new Student();
 Class temp2 = s.getClass();
```

### **利用反射获取构造方法**
```java

    Constructor<?>[] getConstructors()→ 返回所有公共构造方法对象的数组

    //在其中输入String.class之类的参数，可以获得对于入参的方法
    Constructor<?>[] getDeclaredConstructors()→ 返回所有构造方法对象的数组（包括私有）

    Constructor<T> getConstructor(Class<?>... parameterTypes)→ 返回单个公共构造方法对象
    Constructor<T> getDeclaredConstructor(Class<?>... parameterTypes)→ 返回单个构造方法对象​

    T newInstance(Object... initargs)→ 根据指定的构造方法创建对象
    
    setAccessible(boolean flag)→ 设置为true，表示取消访问检查（可操作私有构造方法
```

`getModifiers()`
 Java 反射 API 中的一个方法，属于 `Class`、`Field`、`Method`、`Constructor`等反射相关类。它的作用是​**​返回一个整数，表示类、方法、字段或构造方法的修饰符（如 `public`、`private`、`static`、`final`等）​**​。

 `Constructor.newInstance()`
  根据反射获取到的 `Constructor`对象（构造方法），动态创建该类的新实例。
  如果想要以此调用一个私有构造函数，需要在这之前用`setAccessible(true)`来实现，这是暴力反射

### **利用反射获取成员变量**

**class类中**

|方法名|作用|
|---|---|
|`Field[] getFields()`|返回所有 ​**​公共（public）成员变量​**​（包括父类的公共变量）。|
|`Field[] getDeclaredFields()`|返回 ​**​当前类声明的所有成员变量​**​（包括私有，但不包括父类的变量）。|
|`Field getField(String name)`|返回指定名称的 ​**​公共成员变量​**​（可访问父类继承的公共变量）。|
|`Field getDeclaredField(String name)`|返回当前类中 ​**​指定名称的成员变量​**​（包括私有，不查父类）。|
**field类中**

| 方法名                                  | 作用                                              |
| ------------------------------------ | ----------------------------------------------- |
| `Object get(Object obj)`             | 获取指定对象实例中该字段的值（需访问权限）。                          |
| `void set(Object obj, Object value)` | 设置指定对象实例中该字段的值（需访问权限）。                          |
| `void setAccessible(boolean flag)`   | 设为 `true`可绕过私有访问检查（强制操作私有变量）。                   |
| `int getModifiers()`                 | 返回字段的修饰符编码（配合 `Modifier`类解析如 `public/private`）。 |
| `Class<?> getType()`                 | 返回字段的声明类型（如 `String.class`、`int.class`）。        |

### **反射获得成员方法**
**Class类中的方法**

|方法名|作用|
|---|---|
|`Method[] getMethods()`|返回所有 ​**​公共方法​**​（包括从父类/接口继承的公共方法）。|
|`Method[] getDeclaredMethods()`|返回 ​**​当前类声明的所有方法​**​（包括私有方法，但不包括继承的方法）。|
|`Method getMethod(String name, Class<?>... parameterTypes)`|返回指定名称和参数类型的 ​**​公共方法​**​（可访问继承的方法）。|
|`Method getDeclaredMethod(String name, Class<?>... parameterTypes)`|返回当前类中 ​**​指定名称和参数类型的方法​**​（包括私有方法，不查父类）。|
**Method类中创建对象的方法**

|方法名|作用|
|---|---|
|`Method[] getMethods()`|返回所有 ​**​公共方法​**​（包括从父类/接口继承的公共方法）。|
|`Method[] getDeclaredMethods()`|返回 ​**​当前类声明的所有方法​**​（包括私有方法，但不包括继承的方法）。|
|`Method getMethod(String name, Class<?>... parameterTypes)`|返回指定名称和参数类型的 ​**​公共方法​**​（可访问继承的方法）。|
|`Method getDeclaredMethod(String name, Class<?>... parameterTypes)`|返回当前类中 ​**​指定名称和参数类型的方法​**​（包括私有方法，不查父类）。|
