## 条件构造器AbstractWrapper
![[Pasted image 20250818145217.png]]

| **方法名​**​    | ​**​参数说明​**​                                                 | ​**​功能描述​**​                                              |
| ------------ | ------------------------------------------------------------ | --------------------------------------------------------- |
| `eq`         | `(boolean condition, R column, Object value)`                | 等于 `=`条件，`condition`为 `false`时忽略该条件                       |
| `ne`         | `(boolean condition, R column, Object value)`                | 不等于 `<>`条件                                                |
| `gt`         | `(boolean condition, R column, Object value)`                | 大于 `>`条件                                                  |
| `ge`         | `(boolean condition, R column, Object value)`                | 大于等于 `>=`条件                                               |
| `lt`         | `(boolean condition, R column, Object value)`                | 小于 `<`条件                                                  |
| `le`         | `(boolean condition, R column, Object value)`                | 小于等于 `<=`条件                                               |
| `like`       | `(boolean condition, R column, Object value)`                | 模糊匹配 `LIKE '%value%'`                                     |
| `notLike`    | `(boolean condition, R column, Object value)`                | 模糊不匹配 `NOT LIKE '%value%'`                                |
| `likeLeft`   | `(boolean condition, R column, Object value)`                | 左模糊 `LIKE '%value'`                                       |
| `likeRight`  | `(boolean condition, R column, Object value)`                | 右模糊 `LIKE 'value%'`                                       |
| `between`    | `(boolean condition, R column, Object start, Object end)`    | 区间 `BETWEEN start AND end`                                |
| `notBetween` | `(boolean condition, R column, Object start, Object end)`    | 非区间 `NOT BETWEEN start AND end`                           |
| `allEq`      | `(boolean condition, Map<R, V> params, boolean null2IsNull)` | 批量等于，`params`为字段键值对，`null2IsNull`控制是否将 `null`转为 `IS NULL` |
| `getEntity`  | `()`                                                         | 获取当前设置的实体对象                                               |
| `setEntity`  | `(T entity)`                                                 | 设置实体对象（用于更新操作）                                            |

## 自定义SQL
![[Pasted image 20250818151812.png]]

### Service接口
![[Pasted image 20250818152259.png]]
**在接口中定义方法**
```java
public interface MyService extends Iservice<MyEntity>{}
```
**在实现类实现方法**
```java
public class MyServiceImpl extends ServiceImpl<MyMapper,MyEntity> implements MyService
```

### **逻辑删除**
只需要进行配置就行了
但是会导致数据库性能受损，因为每次都会去判断改表是否为逻辑删除
```yaml
mybatis-plus:
  global-config:
    db-config:
      logic-delete-field: 字段名   # 全局逻辑删除的实体字段名，类型 boolean、integer
      logic-delete-value: 1      # 逻辑已删除值（默认为 1）
      logic-not-delete-value: 0  # 逻辑未删除值（默认为 0）
```

### 枚举处理器
给数据库对应的value值加上@EnumValue的注解
```java
@EnumValue
private final int value
```
配置枚举处理器
```yaml
mybatis-plus:
  configuration:
    default-enum-type-handler: com.baomidou.mybatisplus.core.handlers.MybatisEnumTypeHandler
```

### **JSON处理器**
**实体类上增加注解|数据库内需要为Json**
```java
@Data
@TableName("user")
public class User {
    private Long id;
    
    // 将 List 自动存为数据库 JSON 字段
    @TableField(typeHandler = FastjsonTypeHandler.class)
    private List<String> hobbies;
    
    // 将 Map 自动存为 JSON
    @TableField(typeHandler = JacksonTypeHandler.class)
    private Map<String, Object> properties;
}
```

**配置JSON处理器**
```YAML
mybatis-plus:
  configuration:
    default-json-type-handler: com.baomidou.mybatisplus.extension.handlers.FastjsonTypeHandler
```
