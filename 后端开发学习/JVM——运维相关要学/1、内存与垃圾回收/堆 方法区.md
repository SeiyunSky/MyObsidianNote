### **Java堆**
 在Arthas里用memory查看
![[Pasted image 20250823210410.png]]
max默认系统内存的四分之一  -Xmx size
total默认为系统内存的六十四分之一  -Xms size   
一般情况下建议将total设置为max，减少了申请并分配内存时间上的开销

### 方法区
![[Pasted image 20250823211533.png]]
**元信息**——**InstanceKlass对象**，类的加载阶段完成 JDK7（永久代空间）JDK8（单独抽出为元空间）
  元空间直接位于操作系统维护的内存中，不超过操作系统上限就会一直分配，因此可以用-XX：MaxMetaspaceSize = 值 来限制元空间最大大小。
![[Pasted image 20250823214146.png|300]]

### 直接内存
![[Pasted image 20250823213336.png]]


